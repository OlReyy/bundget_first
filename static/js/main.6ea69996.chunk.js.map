{"version":3,"sources":["utils.js","components/BudgetCard.js","hooks/useLocalStorage.js","context/BudgetsContext.js","components/AddBudgetModal.js","components/AddExpenseModal.js","components/UncategorizedBudgetCard.js","components/TotalBudgetCard.js","components/ViewExpensesModal.js","App.js","index.js"],"names":["currencyFormatter","Intl","NumberFormat","undefined","currency","style","minimumFractionDigits","getProgressVarVariant","amount","max","ratio","BudgetCard","_ref","name","gray","onAddExpenseClick","hideButtons","onViewExpensesClick","className","push","react_default","a","createElement","Card","join","Body","Title","format","ProgressBar","variant","min","now","Stack","direction","gap","Button","onClick","useLocalStorage","key","defaultValue","_useState","useState","jsonValue","localStorage","getItem","JSON","parse","_useState2","Object","slicedToArray","value","setValue","useEffect","setItem","stringify","BudgetsContext","React","createContext","useBudgets","useContext","UNCATEGORIZED_BUDGET_ID","BudgetProvider","children","_useLocalStorage","_useLocalStorage2","budgets","setBudgets","_useLocalStorage3","_useLocalStorage4","expenses","setExpenses","Provider","getBudgetExpenses","budgetId","filter","expense","addExpense","_ref2","description","prevExpenses","concat","toConsumableArray","id","uuidV4","addBudget","_ref3","prevBudgets","find","budget","deleteBudget","_ref4","deleteExpense","_ref5","map","objectSpread","AddBudgetModal","show","handleClose","nameRef","useRef","maxRef","Modal","onHide","Form","onSubmit","e","preventDefault","current","parseFloat","Header","closeButton","Group","controlId","Label","Control","ref","type","required","step","AddExpenseModal","defaultBudgetId","descriptionRef","amountRef","budgetIdRef","_useBudgets","Select","UncategorizedBudgetCard","props","reduce","total","components_BudgetCard","assign","TotalBudgetCard","ViewExpensesModal","b","size","App","showAddBudgetModal","setAddBudgetModal","_useState3","_useState4","showAddExpenseModal","setShowAddExpenseModal","_useState5","_useState6","viewExpenseModalBudgetId","setViewExpenseModalBudgetId","_useState7","_useState8","addExpenseModalBudgetId","setAddExpenseModalBudgetId","openAddExpenseModal","Container","display","gridTemplateColumn","alignItems","components_UncategorizedBudgetCard","components_TotalBudgetCard","components_AddBudgetModal","components_AddExpenseModal","components_ViewExpensesModal","ReactDOM","createRoot","document","getElementById","render","StrictMode","BudgetsContext_BudgetProvider","src_App"],"mappings":"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","file":"static/js/main.6ea69996.chunk.js","sourcesContent":["export const currencyFormatter = new Intl.NumberFormat(undefined, {\r\n  currency: \"rub\",\r\n  style: \"currency\",\r\n  minimumFractionDigits: 0,\r\n});\r\n","import React from \"react\";\r\nimport { Card, ProgressBar, Stack, Button } from \"react-bootstrap\";\r\nimport { currencyFormatter } from \"../utils\";\r\n\r\nfunction getProgressVarVariant(amount, max) {\r\n  const ratio = amount / max;\r\n  if (ratio < 0.5) return \"primary\";\r\n  if (ratio < 0.75) return \"warning\";\r\n  return \"danger\";\r\n}\r\n\r\nfunction BudgetCard({\r\n  name,\r\n  amount,\r\n  max,\r\n  gray,\r\n  onAddExpenseClick,\r\n  hideButtons,\r\n  onViewExpensesClick,\r\n}) {\r\n  const className = [];\r\n  if (amount > max) {\r\n    className.push(\"bg-danger\", \"bg-opacity-10\");\r\n  } else if (gray) {\r\n    className.push(\"bg-light\");\r\n  }\r\n\r\n  return (\r\n    <Card className={className.join(\" \")}>\r\n      <Card.Body>\r\n        <Card.Title className=\"d-flex justify-content-between align-items-baseline fw-normal mb-3\">\r\n          <div className=\"me-2\">{name}</div>\r\n          <div className=\"d-flex align-items-baseline\">\r\n            {currencyFormatter.format(amount)}{\" \"}\r\n            {max && (\r\n              <span className=\"text-muted fs-6 ms-1\">\r\n                /{currencyFormatter.format(max)}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </Card.Title>\r\n        {max && (\r\n          <ProgressBar\r\n            className=\"rounded-pill\"\r\n            variant={getProgressVarVariant(amount, max)}\r\n            min={0}\r\n            max={max}\r\n            now={amount}\r\n          />\r\n        )}\r\n        {!hideButtons && (\r\n          <Stack direction=\"horizontal\" gap={2} className=\"mt-4\">\r\n            <Button\r\n              variant=\"outline-primary\"\r\n              className=\"ms-auto\"\r\n              onClick={onAddExpenseClick}\r\n            >\r\n              Добавить\r\n            </Button>\r\n            <Button onClick={onViewExpensesClick} variant=\"outline-secondary\">\r\n              Увидеть расходы\r\n            </Button>\r\n          </Stack>\r\n        )}\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default BudgetCard;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nfunction useLocalStorage(key, defaultValue) {\r\n  const [value, setValue] = useState(() => {\r\n    const jsonValue = localStorage.getItem(key);\r\n    if (jsonValue != null) return JSON.parse(jsonValue);\r\n\r\n    if (typeof defaultValue === \"function\") {\r\n      return defaultValue();\r\n    } else {\r\n      return defaultValue;\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  }, [key, value]);\r\n  return [value, setValue];\r\n}\r\n\r\nexport default useLocalStorage;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { v4 as uuidV4 } from \"uuid\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\n\r\nconst BudgetsContext = React.createContext();\r\n\r\nexport function useBudgets() {\r\n  return useContext(BudgetsContext);\r\n}\r\n\r\nexport const UNCATEGORIZED_BUDGET_ID = \"Неопределенно\";\r\n\r\nexport const BudgetProvider = ({ children }) => {\r\n  const [budgets, setBudgets] = useLocalStorage(\"budgets\", []);\r\n  const [expenses, setExpenses] = useLocalStorage(\"expenses\", []);\r\n  function getBudgetExpenses(budgetId) {\r\n    return expenses.filter((expense) => expense.budgetId === budgetId);\r\n  }\r\n\r\n  function addExpense({ description, amount, budgetId }) {\r\n    setExpenses((prevExpenses) => {\r\n      return [...prevExpenses, { id: uuidV4(), description, amount, budgetId }];\r\n    });\r\n  }\r\n\r\n  function addBudget({ name, max }) {\r\n    setBudgets((prevBudgets) => {\r\n      if (prevBudgets.find((budget) => budget.name === name)) {\r\n        return prevBudgets;\r\n      }\r\n      return [...prevBudgets, { id: uuidV4(), name, max }];\r\n    });\r\n  }\r\n  function deleteBudget({ id }) {\r\n    setBudgets((prevBudgets) => {\r\n      return prevBudgets.filter((budget) => budget.id !== id);\r\n    });\r\n  }\r\n\r\n  function deleteExpense({ id }) {\r\n    setExpenses((prevExpenses) => {\r\n      return prevExpenses.map((expense) => {\r\n        if (expense.budgetId !== id) return expense;\r\n        return { ...expense, budgetId: UNCATEGORIZED_BUDGET_ID };\r\n      });\r\n    });\r\n    setExpenses((prevExpenses) => {\r\n      return prevExpenses.filter((expense) => expense.id !== id);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <BudgetsContext.Provider\r\n      value={{\r\n        budgets,\r\n        expenses,\r\n        getBudgetExpenses,\r\n        addExpense,\r\n        addBudget,\r\n        deleteBudget,\r\n        deleteExpense,\r\n      }}\r\n    >\r\n      {children}\r\n    </BudgetsContext.Provider>\r\n  );\r\n};\r\n","import React, { useRef } from \"react\";\r\nimport { Modal, Form, Button } from \"react-bootstrap\";\r\nimport { useBudgets } from \"../context/BudgetsContext\";\r\n\r\nfunction AddBudgetModal({ show, handleClose }) {\r\n  const nameRef = useRef();\r\n  const maxRef = useRef();\r\n  const { addBudget } = useBudgets();\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    addBudget({\r\n      name: nameRef.current.value,\r\n      max: parseFloat(maxRef.current.value),\r\n    });\r\n    handleClose();\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Новый раздел</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form.Group className=\"mb-3\" controlId=\"name\">\r\n            <Form.Label>Название</Form.Label>\r\n            <Form.Control ref={nameRef} type=\"text\" required />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"max\">\r\n            <Form.Label>Максимальные затраты</Form.Label>\r\n            <Form.Control\r\n              ref={maxRef}\r\n              type=\"number\"\r\n              required\r\n              min={0}\r\n              step={0.01}\r\n            />\r\n          </Form.Group>\r\n          <div className=\"d-flex justify-content-end\">\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              Добавить\r\n            </Button>\r\n          </div>\r\n        </Modal.Body>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default AddBudgetModal;\r\n","import React, { useRef } from \"react\";\r\nimport { Modal, Form, Button } from \"react-bootstrap\";\r\nimport { UNCATEGORIZED_BUDGET_ID, useBudgets } from \"../context/BudgetsContext\";\r\n\r\nfunction AddExpenseModal({ show, handleClose, defaultBudgetId }) {\r\n  const descriptionRef = useRef();\r\n  const amountRef = useRef();\r\n  const budgetIdRef = useRef();\r\n  const { addExpense, budgets } = useBudgets();\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    addExpense({\r\n      description: descriptionRef.current.value,\r\n      amount: parseFloat(amountRef.current.value),\r\n      budgetId: budgetIdRef.current.value,\r\n    });\r\n    handleClose();\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Расходы</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form.Group className=\"mb-3\" controlId=\"description\">\r\n            <Form.Label>Товар</Form.Label>\r\n            <Form.Control ref={descriptionRef} type=\"text\" required />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"amount\">\r\n            <Form.Label>Цена</Form.Label>\r\n            <Form.Control\r\n              ref={amountRef}\r\n              type=\"number\"\r\n              required\r\n              min={0}\r\n              step={0.01}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"budgetId\">\r\n            <Form.Label>Категория</Form.Label>\r\n            <Form.Select defaultValue={defaultBudgetId} ref={budgetIdRef}>\r\n              <option id={UNCATEGORIZED_BUDGET_ID}>Неопределенно</option>\r\n              {budgets.map((budget) => (\r\n                <option key={budget.id} value={budget.id}>\r\n                  {budget.name}\r\n                </option>\r\n              ))}\r\n            </Form.Select>\r\n          </Form.Group>\r\n          <div className=\"d-flex justify-content-end\">\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              Добавить\r\n            </Button>\r\n          </div>\r\n        </Modal.Body>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default AddExpenseModal;\r\n","import React from \"react\";\r\nimport { UNCATEGORIZED_BUDGET_ID, useBudgets } from \"../context/BudgetsContext\";\r\nimport BudgetCard from \"./BudgetCard\";\r\n\r\nfunction UncategorizedBudgetCard(props) {\r\n  const { getBudgetExpenses } = useBudgets();\r\n  const amount = getBudgetExpenses(UNCATEGORIZED_BUDGET_ID).reduce(\r\n    (total, expenses) => total + expenses.amount,\r\n    0\r\n  );\r\n\r\n  if (amount === 0) return null;\r\n  return <BudgetCard name=\"Неопределенно\" amount={amount} gray {...props} />;\r\n}\r\n\r\nexport default UncategorizedBudgetCard;\r\n","import React from \"react\";\r\nimport { UNCATEGORIZED_BUDGET_ID, useBudgets } from \"../context/BudgetsContext\";\r\nimport BudgetCard from \"./BudgetCard\";\r\n\r\nfunction TotalBudgetCard() {\r\n  const { expenses, budgets } = useBudgets();\r\n  const amount = expenses.reduce(\r\n    (total, expenses) => total + expenses.amount,\r\n    0\r\n  );\r\n  const max = budgets.reduce((total, budget) => total + budget.max, 0);\r\n\r\n  if (max === 0) return null;\r\n  return <BudgetCard name=\"Итого\" amount={amount} gray max={max} hideButtons />;\r\n}\r\n\r\nexport default TotalBudgetCard;\r\n","import React from \"react\";\r\nimport { Modal, Button, Stack } from \"react-bootstrap\";\r\nimport { UNCATEGORIZED_BUDGET_ID, useBudgets } from \"../context/BudgetsContext\";\r\nimport { currencyFormatter } from \"../utils\";\r\n\r\nfunction ViewExpensesModal({ budgetId, handleClose }) {\r\n  const {\r\n    getBudgetExpenses,\r\n    budgets,\r\n    deleteBudget,\r\n    deleteExpense,\r\n  } = useBudgets();\r\n\r\n  const expenses = getBudgetExpenses(budgetId);\r\n  const budget =\r\n    UNCATEGORIZED_BUDGET_ID === budgetId\r\n      ? { name: \"Неопределенно\", id: UNCATEGORIZED_BUDGET_ID }\r\n      : budgets.find((b) => b.id === budgetId);\r\n\r\n  return (\r\n    <Modal show={budgetId != null} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Stack direction=\"horizontal\" gap={2}>\r\n          <div>Затраты</div>\r\n          {budgetId !== UNCATEGORIZED_BUDGET_ID && (\r\n            <Button\r\n              onClick={() => {\r\n                deleteBudget(budget);\r\n                handleClose();\r\n              }}\r\n              variant=\"outline-danger\"\r\n            >\r\n              Удалить\r\n            </Button>\r\n          )}\r\n        </Stack>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Stack direction=\"vertical\" gap={3}>\r\n          {expenses.map((expense) => (\r\n            <Stack direction=\"horizontal\" gap={2} key={expense.id}>\r\n              <div className=\"me-auto fs-4\">{expense.description}</div>\r\n              <div className=\"fs-5\">\r\n                {currencyFormatter.format(expense.amount)}\r\n              </div>\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"outline-danger\"\r\n                onClick={() => deleteExpense(expense)}\r\n              >\r\n                &times;\r\n              </Button>\r\n            </Stack>\r\n          ))}\r\n        </Stack>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\nexport default ViewExpensesModal;\r\n","import React, { useState } from \"react\";\nimport { Stack, Button } from \"react-bootstrap\";\nimport Container from \"react-bootstrap/Container\";\nimport BudgetCard from \"./components/BudgetCard\";\nimport AddBudgetModal from \"./components/AddBudgetModal\";\nimport AddExpenseModal from \"./components/AddExpenseModal\";\nimport { UNCATEGORIZED_BUDGET_ID, useBudgets } from \"./context/BudgetsContext\";\nimport UncategorizedBudgetCard from \"./components/UncategorizedBudgetCard\";\nimport TotalBudgetCard from \"./components/TotalBudgetCard\";\nimport ViewExpensesModal from \"./components/ViewExpensesModal\";\n\nfunction App() {\n  const [showAddBudgetModal, setAddBudgetModal] = useState(false);\n  const [showAddExpenseModal, setShowAddExpenseModal] = useState(false);\n  const [viewExpenseModalBudgetId, setViewExpenseModalBudgetId] = useState();\n  const [addExpenseModalBudgetId, setAddExpenseModalBudgetId] = useState();\n  const { budgets, getBudgetExpenses } = useBudgets();\n\n  function openAddExpenseModal(budgetId) {\n    setShowAddExpenseModal(true);\n    setAddExpenseModalBudgetId(budgetId);\n  }\n  return (\n    <div>\n      <Container className=\"my-4\">\n        <Stack direction=\"horizontal\" gap={2} className=\"mt-4\">\n          <h1 className=\"me-auto\">Бюджет</h1>\n          <Button variant=\"primary\" onClick={() => setAddBudgetModal(true)}>\n            Раздел\n          </Button>\n          <Button variant=\"outline-primary\" onClick={openAddExpenseModal}>\n            Затраты\n          </Button>\n        </Stack>\n        <div\n          style={{\n            display: \"grid\",\n            gridTemplateColumn: \"repeat(auto-fill, minmax(300px, 1fr))\",\n            gap: \"1rem\",\n            alignItems: \"flex-start\",\n          }}\n        >\n          {budgets.map((budget) => {\n            const amount = getBudgetExpenses(budget.id).reduce(\n              (total, expenses) => total + expenses.amount,\n              0\n            );\n            return (\n              <BudgetCard\n                key={budget.id}\n                name={budget.name}\n                amount={amount}\n                max={budget.max}\n                onAddExpenseClick={() => openAddExpenseModal(budget.id)}\n                onViewExpensesClick={() =>\n                  setViewExpenseModalBudgetId(budget.id)\n                }\n              ></BudgetCard>\n            );\n          })}\n          <UncategorizedBudgetCard\n            onAddExpenseClick={openAddExpenseModal}\n            onViewExpensesClick={() =>\n              setViewExpenseModalBudgetId(UNCATEGORIZED_BUDGET_ID)\n            }\n          />\n          <TotalBudgetCard />\n        </div>\n      </Container>\n      <AddBudgetModal\n        show={showAddBudgetModal}\n        handleClose={() => setAddBudgetModal(false)}\n      />\n      <AddExpenseModal\n        show={showAddExpenseModal}\n        defaultBudgetId={addExpenseModalBudgetId}\n        handleClose={() => setShowAddExpenseModal(false)}\n      />\n      <ViewExpensesModal\n        budgetId={viewExpenseModalBudgetId}\n        handleClose={() => setViewExpenseModalBudgetId()}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { BudgetProvider } from \"./context/BudgetsContext\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <BudgetProvider>\n      <App />\n    </BudgetProvider>\n  </React.StrictMode>\n);\n"],"sourceRoot":""}